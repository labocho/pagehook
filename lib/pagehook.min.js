(function(){var a,b=[].slice;this.Pagehook=a=function(){function a(){this.definitions=[],this.handler=function(a){return function(){return a.handlerUnbound()}}(this)}return a.GLOBAL_HOOK_NAME="@global",a.ATTRIBUTE_NAME="data-pagehook",a.register=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance).register.apply(c,a)},a.dispatch=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance).dispatch.apply(c,a)},a.prototype.register=function(a,b){var c,d;if("string"==typeof a)return this.definitions.push([a,b]);d=[];for(c in a)b=a[c],d.push(this.definitions.push([c,b]));return d},a.prototype.dispatch=function(a,b){var c,d,e,f,g,h,i;for(g=this.definitions,i=[],e=0,f=g.length;f>e;e++)h=g[e],d=h[0],c=h[1],i.push(d===a?c(b):void 0);return i},a.prototype.handlerUnbound=function(){var b,c,d,e,f,g,h;for(this.dispatch(a.GLOBAL_HOOK_NAME),g=document.querySelectorAll("["+a.ATTRIBUTE_NAME+"]"),h=[],e=0,f=g.length;f>e;e++)c=g[e],d=c.getAttribute(a.ATTRIBUTE_NAME),b=this.isBlank(c.textContent)?void 0:JSON.parse(c.textContent),h.push(this.dispatch(d,b));return h},a.prototype.isBlank=function(a){return!!a.match(/^\s*$/)},a}(),this.Pagehook.instance=new a,this.Pagehook.handler=this.Pagehook.instance.handler}).call(this);
//# sourceMappingURL=pagehook.min.js.map