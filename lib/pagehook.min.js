(function(){var a,b=[].slice;this.Pagehook=a=function(){function a(){this.definitions={},this.handler=function(a){return function(){return a.handlerUnbound()}}(this)}return a.GLOBAL_HOOK_NAME="@global",a.ATTRIBUTE_NAME="data-pagehook",a.register=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance).register.apply(c,a)},a.dispatch=function(){var a,c;return a=1<=arguments.length?b.call(arguments,0):[],(c=this.instance).dispatch.apply(c,a)},a.prototype.register=function(a,b){var c,d,e;if("string"==typeof a)return((d=this.definitions)[a]||(d[a]=[])).push(b);e=[];for(c in a)b=a[c],e.push(this.register(c,b));return e},a.prototype.dispatch=function(a,b){var c,d,e,f,g;if(this.definitions[a]){for(f=this.definitions[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c(b));return g}},a.prototype.handlerUnbound=function(){var b,c,d,e,f,g,h;for(this.dispatch(a.GLOBAL_HOOK_NAME),g=document.querySelectorAll("["+a.ATTRIBUTE_NAME+"]"),h=[],e=0,f=g.length;f>e;e++)c=g[e],d=c.getAttribute(a.ATTRIBUTE_NAME),b=this.isBlank(c.textContent)?void 0:JSON.parse(c.textContent),h.push(this.dispatch(d,b));return h},a.prototype.isBlank=function(a){return!!a.match(/^\s*$/)},a}(),this.Pagehook.instance=new a,this.Pagehook.handler=this.Pagehook.instance.handler}).call(this);
//# sourceMappingURL=pagehook.min.js.map